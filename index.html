<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" type="text/css" />
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/themes/base/jquery-ui.css" rel="stylesheet"
    type="text/css" />

  <link rel="stylesheet" href="/resources/demos/style.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1" />


  <title>구독서비스 관리 도구</title>
</head>

<body> 

  <header>
    <!--modal area-->

    <!-- login modal-->
    <div class="modal_login_cover">
      <div class="modal_login">
        <form action="">
          <span class="name">Key</span>
          <input type="password" name="key" id="key_id" />
          <input type="button" value="Login" id="inside_login_btn" />
        </form>
      </div>
    </div>
    
    <!-- add modal-->
    <div class="modal_add_cover">
      <div class="modal_add">
        <form action="">

          <div class="content_line">
            <span class ="name">서비스 이름</span>
            <input id="service_name" class="input_text" type="text" />
            
          </div>
          <div class="content_line">
            <span class ="name">서비스 시작 날짜</span>
            <input id="start_date" class="input_text" type="text" />
            <input id="for_long_month" class="input_text" type="text" placeholder="month" />

          </div>
          <div class="content_line">
            <span class ="name">서비스 종료 날짜</span>
            <input id="end_date" class="input_text" type="text" />
          </div>

          <div class="optional_menu">
            <input name="" id="inside_add_btn" type="button" value="Add" />
            <input id="inside_cal_btn" type="button" value="Cal" />
          </div>
          
        </form>
      </div>
    </div>
    
    <!-- update modal-->
    <div class="modal_update_cover">
      <div class="modal_update">
        <form action="">
          <div class="content_line">
            <span class ="name">서비스 이름</span>
            <input id="service_name" class="input_text" type="text" />
            <input type="button" value="FIND" id ="select_info">
          </div>
          <div class="content_line">
            <span class ="name">서비스 시작 날짜</span>
            <input id="start_date" class="input_text" type="text" />
            <input id="for_long_month" class="input_text" type="text" placeholder="month" />

          </div>
          <div class="content_line">
            <span class ="name">서비스 종료 날짜</span>
            <input name="" id="end_date" class="input_text" type="text" />
          </div>

          <div class="optional_menu">
            <input name="" id="inside_update_btn" type="button" value="Update" />
            <input id="inside_cal_btn" type="button" value="Cal" />
          </div>
          <span class="success">테스트용 문구입니다.</span>
        </form>
      </div>
    </div>

    <!-- delete modal-->
    <div class="modal_delete_cover">
      <div class="modal_delete">
        <form action="">
          <div class="content_line">
          <span class="name">서비스 이름</span>
          <input type="text" class="input_text" id="service_name">
          <input type="button" value="FIND" id ="select_info">
          </div>
          <span class="success">테스트용 문구입니다.</span>
          <input id="inside_del_btn" type="button" value="Delete" />
        </form>
      </div>
    </div>


    <!--page-->
    <button id="login_button">로그인</button>
    <div class="menu_buttons">
      <button id="add_button"> 추가 </button>
      <button id="update_button"> 수정 </button>
      <button id="delete_button"> 삭제 </button>
    </div>


  </header>

  <section>
    <!-- elements section-->
    <div class="elements_cover">
    </div>
  </section>
</body>

<script>

  //DOM
  var subscribes = [{
    name: "netflix",
    start_date: "05/22/2022",
    end_date: "06/22/2022"
  }, {
    name: "coupang",
    start_date: "07/22/2022",
    end_date: "08/22/2022"
  }, {
    name: "smile_club",
    start_date: "06/22/2022",
    end_date: "07/22/2022"
  }];

  var all_html = "";

  for (var i = 0; i < subscribes.length; i++) {
    var sub_temp = subscribes[i];
    all_html = all_html + 
      '<div class="element">' +
      '<span class = "name">' + sub_temp.name + '</span>' +
      '<progress value="70" max="100"></progress>' +
      '<span class="per">70%</span>' +
      '</div>'
  }

  document.querySelector('.elements_cover').innerHTML = all_html;




  // activity_modal
  $(function () {
    $("#start_date").datepicker();
  });

  const body = document.querySelector("body");
  const modal_login = document.querySelector(".modal_login_cover");  
  const modal_add = document.querySelector(".modal_add_cover");
  const modal_update = document.querySelector(".modal_update_cover");
  const modal_delete = document.querySelector(".modal_delete_cover");

  const btn_Login = document.querySelector("#login_button");
  const btn_Add = document.querySelector("#add_button");
  const btn_Update = document.querySelector("#update_button");
  const btn_Del = document.querySelector("#delete_button");

  const inside_login_btn = document.querySelector("#inside_login_btn");
  const inside_add_btn = document.querySelector("#inside_add_btn");
  const inside_update_btn = document.querySelector("#inside_update_btn");
  const inside_del_btn = document.querySelector("#inside_del_btn");

  //login modal activity
  btn_Login.addEventListener("click", () => {
    modal_login.classList.toggle("show");

    if (modal_login.classList.contains("show")) {
      modal_login.style.overflow = "hidden";
    }
  });

  modal_login.addEventListener("click", (event) => {
    if (event.target === modal_login) {
      modal_login.classList.toggle("show");

      if (!modal_login.classList.contains("show")) {
        body.style.overflow = "auto";
      }
    }
  });

  inside_login_btn.addEventListener("click", () => {
    modal_login.classList.remove("show");
  });

  //Add modal activity
  btn_Add.addEventListener("click", () => {
    modal_add.classList.toggle("show");

    if (modal_add.classList.contains("show")) {
      modal_add.style.overflow = "hidden";
    }
  });

  modal_add.addEventListener("click", (event) => {
    if (event.target === modal_add) {
      modal_add.classList.toggle("show");

      if (!modal_add.classList.contains("show")) {
        body.style.overflow = "auto";
      }
    }
  });

  inside_add_btn.addEventListener("click", () => {
    modal_add.classList.remove("show");
  });

  //Update modal activity
  btn_Update.addEventListener("click", () => {
    modal_update.classList.toggle("show");

    if (modal_add.classList.contains("show")) {
      modal_update.style.overflow = "hidden";
    }
  });

  modal_update.addEventListener("click", (event) => {
    if (event.target === modal_update) {
      modal_update.classList.toggle("show");

      if (!modal_update.classList.contains("show")) {
        body.style.overflow = "auto";
      }
    }
  });

  inside_update_btn.addEventListener("click", () => {
    modal_update.classList.remove("show");
  });

  //delete modal activity
  btn_Del.addEventListener("click", () => {
    modal_delete.classList.toggle("show");

    if (modal_delete.classList.contains("show")) {
      modal_delete.style.overflow = "hidden";
    }
  });

  modal_delete.addEventListener("click", (event) => {
    if (event.target === modal_delete) {
      modal_delete.classList.toggle("show");

      if (!modal_delete.classList.contains("show")) {
        body.style.overflow = "auto";
      }
    }
  });

  inside_del_btn.addEventListener("click", () => {
    modal_delete.classList.remove("show");
  });

</script>

</html>